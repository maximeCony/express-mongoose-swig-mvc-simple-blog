{% extends 'layout.html' %}

{% block content %}

<a href="{{ routes.postsCreate }}" class="btn btn-primary">
    <i class="icon-plus icon-white"></i> 
    New post
</a>

<div style="width: 900px; margin: auto;">
    {% for post in posts %}

    <div class="page-header">
        <h3>{{ post.name }}</h3>

        <a href="{{ routes.postsRemove|replace(':id', post.id) }}" class="btn btn-danger">
            <i class="icon-remove icon-white"></i>
        </a>

        <a href="{{ routes.postsUpdate|replace(':id', post.id) }}" class="btn btn-warning">
            <i class="icon-edit icon-white"></i> 
        </a>
        
        <a href="{{ routes.commentCreate|replace(':id', post.id) }}" class="btn">
            <i class="icon-pencil"></i> 
            Comment
        </a>

        <br/>
        <br/>

        <pre>{{ post.content }}</pre>

        <br/>

        {% for comment in post.comments %}
        <blockquote>
            <p>{{ comment.content }}</p>
            <small>{{ comment.author }}</small>
        </blockquote>
        {% endfor %}

    </div>

    {% endfor %}
</div>
{% endblock %}